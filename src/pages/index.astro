---
import Layout from "../layouts/Layout.astro";
import ProductGrid from "../components/astro/ProductGrid.astro";
import configData from "../content/config.json";
import { getFeaturedProductsFromCollection } from "../lib/utils/content-helpers";

// Get featured products
const featuredProducts = (await getFeaturedProductsFromCollection()).slice(0, 6);
---

<Layout title={`${configData.store.name} - El Salvador`}>
    {
        featuredProducts.length > 0 && (
            <section class="container mx-auto px-4 py-6">
                <h2 class="text-3xl font-bold text-center mb-8">
                    Productos Destacados
                </h2>
                <ProductGrid
                    products={featuredProducts}
                    currencySymbol={configData.settings.currencySymbol}
                />
                <div class="text-center mt-8">
                    <a href="/menu" class="btn btn-primary btn-lg">
                        Ver Todo el Men√∫
                    </a>
                </div>
            </section>
        )
    }
</Layout>
